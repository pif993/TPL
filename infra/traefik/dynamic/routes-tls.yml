# Auto-generated by init.sh â€” HTTPS routes (requires TLS cert in .secrets/tls/)
http:
  routers:
    web-tls:
      rule: "PathPrefix(`/`)"
      service: web
      middlewares: [sec-headers]
      priority: 1
      entryPoints: [websecure]
      tls: {}
    api-tls:
      rule: "PathPrefix(`/api`)"
      service: api
      middlewares: [sa, rate-api, sec-headers]
      priority: 9
      entryPoints: [websecure]
      tls: {}
    api-admin-tls:
      rule: "PathPrefix(`/api/version`) || PathPrefix(`/api/modules`) || PathPrefix(`/api/users`) || PathPrefix(`/api/security`)"
      service: api
      middlewares: [sa, rate-admin, sec-headers]
      priority: 11
      entryPoints: [websecure]
      tls: {}
    kc-tls:
      rule: "PathPrefix(`/auth`)"
      service: kc
      middlewares: [rate-auth, sec-headers]
      priority: 10
      entryPoints: [websecure]
      tls: {}
tls:
  certificates:
    - certFile: /etc/traefik/tls/tpl.crt
      keyFile: /etc/traefik/tls/tpl.key
